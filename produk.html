<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Topup via PayPal - Saldoku</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-r from-gray-900 via-black to-gray-900 text-white">

  <!-- Navbar -->
  <nav class="flex justify-between items-center p-6 bg-black shadow-lg">
    <h1 class="text-2xl font-bold text-yellow-400">Saldoku</h1>
    <ul class="flex space-x-6">
      <li><a href="index.html" class="hover:text-yellow-400">Home</a></li>
      <li><a href="produk.html" class="hover:text-yellow-400">Produk</a></li>
      <li><a href="rate.html" class="hover:text-yellow-400">Rate</a></li>
      <li><a href="dashboard.html" class="hover:text-yellow-400">Dashboard</a></li>
    </ul>
  </nav>

  <!-- Section Produk -->
  <section class="py-16 text-center">
    <h2 class="text-3xl font-bold mb-8 text-yellow-400">Topup dengan PayPal</h2>

    <div class="max-w-2xl mx-auto bg-gray-800 p-6 rounded-xl shadow-xl">
      <form id="produkForm">
        <!-- Pilih Produk -->
        <label class="block mb-2 text-gray-300 text-left">Pilih Produk</label>
        <select id="produk" class="w-full p-2 mb-4 rounded-lg bg-gray-700 text-white">
          <option value="Dana">Topup Dana</option>
          <option value="Pulsa">Topup Pulsa</option>
          <option value="GoPay">Topup GoPay</option>
          <option value="FreeFire">Topup Free Fire</option>
        </select>

        <!-- Email PayPal -->
        <label class="block mb-2 text-gray-300 text-left">Email PayPal Anda</label>
        <input type="email" id="email" required class="w-full p-2 mb-4 rounded-lg bg-gray-700 text-white">

        <!-- Jumlah Dollar -->
        <label class="block mb-2 text-gray-300 text-left">Jumlah Dollar ($)</label>
        <input type="number" id="dollar" min="2" required class="w-full p-2 mb-4 rounded-lg bg-gray-700 text-white">

        <!-- Hasil Kurs -->
        <p id="hasil" class="text-xl font-bold text-yellow-300 mb-4">Rp 0</p>

        <!-- Tombol -->
        <button type="submit" class="w-full py-3 bg-yellow-500 hover:bg-yellow-600 text-black font-bold rounded-lg">
          Bayar & Konfirmasi
        </button>
      </form>
    </div>
  </section>

  <script>
    const rate = 13500;
    const dollarInput = document.getElementById("dollar");
    const hasil = document.getElementById("hasil");
    const form = document.getElementById("produkForm");

    function hitung() {
      let dollar = parseFloat(dollarInput.value);
      if (isNaN(dollar) || dollar < 2) {
        hasil.innerText = "Minimal $2";
      } else {
        let rupiah = dollar * rate;
        hasil.innerText = "Rp " + rupiah.toLocaleString("id-ID");
      }
    }

    dollarInput.addEventListener("input", hitung);

    form.addEventListener("submit", function(e) {
      e.preventDefault();
      let email = document.getElementById("email").value;
      let produk = document.getElementById("produk").value;
      let dollar = parseFloat(dollarInput.value);

      if (dollar < 2) {
        alert("Minimal $2");
        return;
      }

      let rupiah = dollar * rate;
      let pesan = Halo kak, saya mau topup *${produk}* via PayPal.\n\nEmail PayPal: ${email}\nJumlah: $${dollar} = Rp${rupiah.toLocaleString("id-ID")};
      let waLink = https://wa.me/6281232715307?text=${encodeURIComponent(pesan)};

      window.open(waLink, "_blank");
    });
  </script>
</body>
</html>
